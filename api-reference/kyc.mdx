---
title: 'KYC API'
description: '지갑 주소 KYC 등록, 해제, 확인'
---

# KYC API

KYC(Know Your Customer) API는 지갑 주소의 본인확인 등록 상태를 관리합니다. KYC 등록된 주소만 토큰 전송이 가능합니다.

## 지갑 주소 KYC 등록

지갑 주소를 KYC 등록하여 토큰 전송 권한을 부여합니다.

<ParamField path="token" type="string" required>
  토큰 심볼 (예: `PULSE-ST-001`)
</ParamField>

<ParamField path="holder" type="string" required>
  지갑 주소 (예: `0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb`)
</ParamField>

### Request

```bash
POST /main/v1/kyc/{token}/{holder}
```

### Headers

```
Authorization: Bearer {access_token}
Content-Type: application/json
```

### Example

<CodeGroup>

```bash cURL
curl -X POST "https://api.stopulse.co.kr/main/v1/kyc/PULSE-ST-001/0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb" \
  -H "Authorization: Bearer {access_token}" \
  -H "Content-Type: application/json"
```

```javascript JavaScript
const response = await fetch(
  'https://api.stopulse.co.kr/main/v1/kyc/PULSE-ST-001/0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer {access_token}',
      'Content-Type': 'application/json'
    }
  }
);
```

```python Python
import requests

url = "https://api.stopulse.co.kr/main/v1/kyc/PULSE-ST-001/0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb"
headers = {
    "Authorization": "Bearer {access_token}",
    "Content-Type": "application/json"
}

response = requests.post(url, headers=headers)
```

</CodeGroup>

### Response

<ResponseField name="transactionHash" type="string">
  블록체인 트랜잭션 해시
</ResponseField>

<ResponseField name="requestId" type="string">
  요청 ID
</ResponseField>

```json 200
{
  "transactionHash": "0xabc123...",
  "requestId": "req-123456"
}
```

---

## 지갑 주소 KYC 해제

지갑 주소의 KYC 등록을 해제합니다. 해제 후 해당 주소로의 토큰 전송이 불가능해집니다.

### Request

```bash
DELETE /main/v1/kyc/{token}/{holder}
```

### Example

<CodeGroup>

```bash cURL
curl -X DELETE "https://api.stopulse.co.kr/main/v1/kyc/PULSE-ST-001/0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb" \
  -H "Authorization: Bearer {access_token}"
```

```javascript JavaScript
const response = await fetch(
  'https://api.stopulse.co.kr/main/v1/kyc/PULSE-ST-001/0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb',
  {
    method: 'DELETE',
    headers: {
      'Authorization': 'Bearer {access_token}'
    }
  }
);
```

</CodeGroup>

### Response

```json 200
{
  "transactionHash": "0xdef456...",
  "requestId": "req-789012"
}
```

---

## KYC 등록 상태 확인

특정 지갑의 KYC 등록 상태를 조회합니다.

### Request

```bash
GET /main/v1/kyc/{token}/{holder}
```

### Example

<CodeGroup>

```bash cURL
curl -X GET "https://api.stopulse.co.kr/main/v1/kyc/PULSE-ST-001/0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb" \
  -H "Authorization: Bearer {access_token}"
```

```javascript JavaScript
const response = await fetch(
  'https://api.stopulse.co.kr/main/v1/kyc/PULSE-ST-001/0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb',
  {
    headers: {
      'Authorization': 'Bearer {access_token}'
    }
  }
);

const data = await response.json();
console.log(data.registered); // true or false
```

</CodeGroup>

### Response

<ResponseField name="token" type="string">
  토큰 심볼
</ResponseField>

<ResponseField name="holder" type="string">
  지갑 주소
</ResponseField>

<ResponseField name="registered" type="boolean">
  KYC 등록 여부
</ResponseField>

<ResponseField name="registeredAt" type="string">
  등록 시간 (ISO 8601)
</ResponseField>

```json 200
{
  "token": "PULSE-ST-001",
  "holder": "0xd14f723e859ec4f3edee57bf78ceb7c81de08dfb",
  "registered": true,
  "registeredAt": "2024-01-15T10:30:00Z"
}
```

---

## 에러 응답

### 공통 에러

| HTTP Status | 에러 코드 | 설명 |
|-------------|----------|------|
| 400 | `INVALID_ADDRESS` | 유효하지 않은 지갑 주소 |
| 400 | `INVALID_TOKEN` | 존재하지 않는 토큰 |
| 401 | `UNAUTHORIZED` | 인증 실패 |
| 403 | `FORBIDDEN` | KYC 등록 권한 없음 |
| 409 | `ALREADY_REGISTERED` | 이미 KYC 등록됨 |

### 에러 응답 예시

```json 400
{
  "error": {
    "code": "INVALID_ADDRESS",
    "message": "The provided address is not a valid Ethereum address",
    "details": {
      "holder": "invalid_address_format"
    }
  }
}
```

---

## 사용 시나리오

### 투자자 계좌 개설 플로우

```
┌──────────┐     ┌──────────────┐     ┌──────────────┐
│  투자자   │────▶│계좌관리기관  │────▶│  KYC 등록    │
│  신청    │     │  본인확인    │     │    API      │
└──────────┘     └──────────────┘     └──────────────┘
                        │
                        ▼
                 ┌──────────────┐
                 │ 토큰 전송    │
                 │   가능      │
                 └──────────────┘
```

<Note>
  KYC 등록은 계좌관리기관(증권사)만 수행할 수 있습니다.
</Note>
