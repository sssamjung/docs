---
title: 'Token API'
description: '토큰 정보 조회, 발행, 환수, 파티션 관리'
---

# Token API

Token API는 토큰의 정보 조회, 발행, 환수, 파티션 관리 기능을 제공합니다.

---

## 토큰 정보 조회

토큰의 기본 정보를 조회합니다.

### Request

```bash
GET /main/v1/tokens/{tokenSymbol}/info
```

<ParamField path="tokenSymbol" type="string" required>
  토큰 심볼 (DT 토큰일 경우 `DT`)
</ParamField>

### Example

<CodeGroup>

```bash cURL
curl -X GET "https://api.stopulse.co.kr/main/v1/tokens/PULSE-ST-001/info" \
  -H "Authorization: Bearer {access_token}"
```

```javascript JavaScript
const response = await fetch(
  'https://api.stopulse.co.kr/main/v1/tokens/PULSE-ST-001/info',
  {
    headers: { 'Authorization': 'Bearer {access_token}' }
  }
);
const tokenInfo = await response.json();
```

</CodeGroup>

### Response

```json 200
{
  "name": "블록체인 글로벌 토큰",
  "symbol": "BCG",
  "decimals": 18,
  "maxTotalSupply": 1000000000
}
```

| Field | Type | Description |
|-------|------|-------------|
| `name` | string | 토큰 이름 |
| `symbol` | string | 토큰 심볼 |
| `decimals` | number | 소수점 자릿수 |
| `maxTotalSupply` | number | 최대 발행 가능량 |

---

## 토큰 발행 가능 여부 확인

토큰의 추가 발행 가능 여부를 확인합니다.

### Request

```bash
GET /main/v1/tokens/{tokenSymbol}/issuable
```

### Response

```json 200
{
  "issuable": true
}
```

---

## 토큰 발행

새로운 토큰을 발행합니다. **Issuer** 권한이 필요합니다.

### Request

```bash
POST /main/v1/tokens/{tokenSymbol}/issue
```

### Body Parameters

<ParamField body="holder" type="string" required>
  토큰을 발행받을 지갑 주소
</ParamField>

<ParamField body="partitionName" type="string" required>
  파티션 이름 (예: `초기`, `락업`)
</ParamField>

<ParamField body="amount" type="number" required>
  발행 수량
</ParamField>

<ParamField body="data" type="string">
  추가 데이터 (빈 문자열 가능)
</ParamField>

### Example

<CodeGroup>

```bash cURL
curl -X POST "https://api.stopulse.co.kr/main/v1/tokens/PULSE-ST-001/issue" \
  -H "Authorization: Bearer {access_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "holder": "0xFE3B557E8Fb62b89F4916B721be55cEb828dBd73",
    "partitionName": "초기",
    "amount": 10000,
    "data": " "
  }'
```

```javascript JavaScript
const response = await fetch(
  'https://api.stopulse.co.kr/main/v1/tokens/PULSE-ST-001/issue',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer {access_token}',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      holder: '0xFE3B557E8Fb62b89F4916B721be55cEb828dBd73',
      partitionName: '초기',
      amount: 10000,
      data: ' '
    })
  }
);
```

</CodeGroup>

### Response

```json 201
{
  "transactionHash": "0xf10c802071e83a52c3d85db59ebf6644b1439297fb303ec20e2d72a12cbe26c1",
  "requestId": "ISSUE:ae47b7b1-bca9-4039-923b-37841fd28825"
}
```

---

## 토큰 환수

발행된 토큰을 환수(소각)합니다. **Issuer** 권한이 필요합니다.

### Request

```bash
POST /main/v1/tokens/{tokenSymbol}/redeem
```

### Body Parameters

<ParamField body="holder" type="string" required>
  환수할 지갑 주소
</ParamField>

<ParamField body="partitionName" type="string" required>
  파티션 이름
</ParamField>

<ParamField body="amount" type="number" required>
  환수 수량
</ParamField>

<ParamField body="data" type="string">
  추가 데이터
</ParamField>

### Example

```bash cURL
curl -X POST "https://api.stopulse.co.kr/main/v1/tokens/PULSE-ST-001/redeem" \
  -H "Authorization: Bearer {access_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "holder": "0xFE3B557E8Fb62b89F4916B721be55cEb828dBd73",
    "partitionName": "초기",
    "amount": 100,
    "data": " "
  }'
```

### Response

```json 200
{
  "transactionHash": "0xdef456...",
  "requestId": "REDEEM:789012ab-..."
}
```

---

## 추가 발행 제한

토큰의 추가 발행을 영구적으로 중지합니다.

<Warning>
  이 작업은 되돌릴 수 없습니다. 실행 후에는 토큰 추가 발행이 불가능합니다.
</Warning>

### Request

```bash
PUT /main/v1/tokens/{tokenSymbol}/renounce
```

### Response

```json 200
{
  "transactionHash": "0x...",
  "requestId": "RENOUNCE:..."
}
```

---

## 파티션 관리

### 기본 파티션 조회

```bash
GET /main/v1/tokens/{tokenSymbol}/default-partitions
```

#### Response

```json 200
{
  "partitions": [
    {
      "name": "초기",
      "partition": "0x0000000000000000000000000000000000000000000000000000000000000001"
    }
  ]
}
```

### 기본 파티션 설정

```bash
PUT /main/v1/tokens/{tokenSymbol}/default-partitions
```

#### Body

```json
{
  "partitionName": "초기"
}
```

### 파티션 목록 조회

```bash
GET /main/v1/tokens/{tokenSymbol}/partitions
```

#### Response

```json 200
{
  "partitions": [
    {
      "name": "초기",
      "partition": "0x0000...0001"
    },
    {
      "name": "락업",
      "partition": "0x0000...0002"
    }
  ]
}
```

### 파티션 생성

```bash
POST /main/v1/tokens/{tokenSymbol}/partitions
```

#### Body

```json
{
  "partitionName": "신규파티션"
}
```

### 파티션 수정

```bash
PUT /main/v1/tokens/{tokenSymbol}/partitions
```

#### Body

```json
{
  "oldPartitionName": "기존이름",
  "newPartitionName": "새이름"
}
```

### 파티션별 총 공급량 조회

```bash
GET /main/v1/tokens/{tokenSymbol}/partitions/{partition}/supply
```

#### Response

```json 200
{
  "partition": "0x0000...0001",
  "totalSupply": "500000"
}
```

---

## 토큰 문서 관리

### 문서 목록 조회

```bash
GET /main/v1/tokens/{tokenSymbol}/documents
```

#### Response

```json 200
{
  "documents": [
    {
      "name": "prospectus",
      "uri": "https://example.com/prospectus.pdf",
      "documentHash": "0xabc..."
    }
  ]
}
```

### 문서 등록

```bash
POST /main/v1/tokens/{tokenSymbol}/documents
```

#### Body

```json
{
  "name": "prospectus",
  "uri": "https://example.com/prospectus.pdf",
  "documentHash": "0xabc..."
}
```

### 문서 조회

```bash
GET /main/v1/tokens/{tokenSymbol}/documents/{docName}
```

### 문서 삭제

```bash
DELETE /main/v1/tokens/{tokenSymbol}/documents/{docName}
```

---

## 에러 응답

| HTTP Status | 에러 코드 | 설명 |
|-------------|----------|------|
| 400 | `INVALID_AMOUNT` | 유효하지 않은 수량 |
| 403 | `NOT_ISSUER` | 발행 권한 없음 |
| 403 | `ISSUANCE_FINISHED` | 추가 발행 중지됨 |
| 404 | `TOKEN_NOT_FOUND` | 토큰이 존재하지 않음 |
| 404 | `PARTITION_NOT_FOUND` | 파티션이 존재하지 않음 |
